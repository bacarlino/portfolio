{% extends "base_generic.html" %}

{% block content %}
  <ul>
  {% if user.is_authenticated %}
    <li>User: {{ user.get_username }}</li>
    <li><a href="{% url 'logout' %}?next={{ request.path }}">Logout</a></li>
  {% else %}
    <li><a href="{% url 'login' %}?next={{ request.path }}">Login</a></li>
  {% endif %}
  </ul>


  <h1>Blog Home</h1>
  <a href={% url 'new_blog_post' %}><button>New Post</button></a>

  {% if blogpost_list %}  <!-- Verify there are even books to display -->
  <ul>

    {% for blogpost in blogpost_list %}
    <li>
      <h3>{{ blogpost.title }}<small> Posted by {{ blogpost.user }} on {{ blogpost.entry_date }}</small></h3>
      <p>{{ blogpost.body }}</p>
    </li>
    {% endfor %}

  </ul>
  {% else %}
  <p>
    There are no blogposts in the Library.
  </p>
  {% endif %}
{% endblock %}
